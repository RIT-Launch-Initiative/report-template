%% Adapted from the Overleaf AIAA template
% https://www.overleaf.com/latex/templates/preparation-of-papers-for-aiaa-technical-conferences/rsssbwthkptn
% Yevgeniy Gorbachev, 2023
% Rochester Institute of Technology 

\documentclass[report]{sac}
\usepackage[utf8]{inputenc}

% Text
\usepackage{siunitx, verbatim}
% Figures
\usepackage{graphicx, float, subcaption, longtable, tabularx}
% Fancier tables
\usepackage{multicol, multirow}
% Page control
\usepackage{pdflscape, pdfpages}

%%%% Flags

% WIP: "Work in progress" flag
% Comment out \wiptrue to omit draft watermark, formatting examples, and section descriptions
\newif\ifwip

\wiptrue

\ifwip
\usepackage{draftwatermark}
\SetWatermarkText{DRAFT}
\SetWatermarkScale{1}
\fi

% nofigures: "No figures" flag
% Comment out \figurestrue to compile the document without figures to check text length (<25 pages)

\newif\iffigures

\figurestrue

\iffigures\else
	\renewenvironment{figure}{\comment}{\endcomment}
	\renewenvironment{table}{\comment}{\endcomment}
	\wipfalse
\fi

% dwg: Engineering drawings flag
% Comment out \dwgtrue to compile without engineering drawings to save time
\newif\ifdwg

\dwgtrue

%%%% Helper macros
\input{lib/report-descriptions}
\newcommand\putdescription[1]
{
	\ifwip
		\begingroup
		\small\em
		#1
		\endgroup
	\fi
}

\newcommand\pageleftblank
{
	\begin{center}
		\large
		THIS PAGE INTENTIONALLY LEFT BLANK
	\end{center}
}

\newcommand\putdrawings[1]{\ifdwg\includepdf[pages=-,fitpaper]{#1}\fi}

%%%%%%%%%%%%%%%%
%%%% Report body

\sacteam{XXX}
\sacyear{YYYY}

\title{Project Technical Report Title}

\author{First A. Author\footnote{Author Title}}
\affil{Institution, Address}

\begin{document}

\maketitle

\begin{abstract}
	\putdescription{\AbstractDescription}
\end{abstract}
\section{Nomenclature}

\ifwip
	Use all variables defined here. Do not define acronyms here.
\fi

{
    \renewcommand\arraystretch{1.0}
	\noindent
    \begin{longtable*}{@{}p{0.3in}@{\quad=\quad}p{5.7in}@{}}
		\ifwip
        \(C_\text{D}\) & Drag coefficient (EXAMPLE VARIABLE) \\	
        \(D\) & Parachute diameter (EXAMPLE VARIABLE) \\
        \(A\) & Cross-sectional area (EXAMPLE VARIABLE) \\
        \(v\) & Descent rate (EXAMPLE VARIABLE) \\ 
        \(\rho_0\) & Free-stream density at ground level (EXAMPLE VARIABLE) \\
        \(\rho\) & Free-stream density at altitude (EXAMPLE VARIABLE) \\
		\fi
	\end{longtable*}
 }


	\section{Introduction} \label{intro}
	\putdescription{\IntroductionDescription}
 
	\section{System Architecture Overview} \label{sao}
	\putdescription{\SAODescription}
 
	\subsection{Propulsion} \label{propulsion}

	\subsection{Aero-structures} \label{structures}

	\subsection{Recovery} \label{recovery}

	\subsection{Payload} \label{payload}
 
	\section{Mission Concept of Operations Overview} \label{conops}
 
	\putdescription{\CONOPSDescription}

	\section{Conclusion and Lessons Learned}
	\putdescription{\ConclusionDescription}

	\pagebreak
	\appendix

	\ifwip
		\section*{Formatting examples}

		This section provides examples of \LaTeX{} tables, figures, equations,
		lists, citations, and references to the same. This will not be compiled if
		the WIP flag is not set.

		\paragraph{Figures} Use the following code to create a figure or table, and
		\verb|ref| to refer to it (Fig. \ref{fig:example-fig}, Tables
		\ref{tbl:example-table} \& \ref{tbl:fos-summary-example}):

		\begin{figure}[H]
			\centering
			\includegraphics[width=2in]{fig/graph.jpg} % path to figure
			\caption{Magentization as a function of applied fields} 
			\label{fig:example-fig} % how we refer to this figure's number
			% Figures must have "fig:" in the label and tables must have "tbl:" in
			% the label
		\end{figure}

		\begin{table}[H]
			\centering
			\caption{Informative table caption}
			% in this case, Tabular is how we express a table in LaTeX, but if we
			% had a picture of a table, we would include that using \includegraphics
			% or similar.

			% the vertical bars you put in the spec will appear - if you want two
			% columns to not be separated, omit that bar.
			\begin{tabular}{|l|cr|p{2in}|} 

				% MANDATORY: Each table row starts with "\hline" and ends with "\\"
				\hline Left column & Centered column & Right column & 2" fixed-width
				column \\
				\hline A & B & C & Lorem ipsum dolor sit amet, consectetur adipiscing elit \\
				\hline D & E & F & sed do eiusmod tempor incididunt ut labore et
				dolore magna aliqua \\
				\hline % MANDATORY: Table ends with one "\hline"
			\end{tabular}	
			\label{tbl:example-table}
		\end{table}	

		\begin{table}[H]
			\centering
			\caption{Table with image body}
			\includegraphics[width=4in]{fig/table.png}
			\label{tbl:fos-summary-example}
		\end{table}

		\paragraph{Citations} Use the \verb|cite| command to cite resources in the
		\verb|.bib| file \cite{peyret2012computational, oates1997aerothermodynamics}.
	\fi

	\section{System Weights, Measures, and Performance Data}\label{measures}
	\putdescription{\SystemMeasuresDescription}

	\pagebreak
	\section{Project Test Reports}\label{test-reports}
	\putdescription{\TestReportsDescription}

	\subsection{Recovery System Testing}\label{recovery-test}
    \pageleftblank

	\pagebreak
	\subsection{SRAD Propulsion System Testing}\label{propulsion-test}
	\pageleftblank

	\pagebreak
	\subsection{SRAD Pressure Vessel Testing}\label{pressure-test}
	\pageleftblank

	\pagebreak
	\subsection{Payload Recovery System Testing}\label{payload-recovery-test}
    \pageleftblank
    
	\begin{landscape}
		\pagebreak
		\section{Hazard Analysis}\label{hazard}
		\putdescription{\HazardAnalysisDescription}

		\input{fig/hazard.tex}
	\end{landscape}

    \pagebreak
    
	\begin{landscape}
		\section{Risk Assessment}\label{risk}
		\putdescription{\RiskAssessmentDescription}
	\end{landscape}

	\section{Assembly, Preflight, Launch, and Recovery Checklists} \label{checklists}
	\putdescription{\ChecklistsDescription}

    \pagebreak
	\section{Engineering Drawings} \label{drawings}
	\putdescription{\DrawingsDescription}
    \pageleftblank
    
    % the fitpaper option preserves the source paper size
    %\includepdf[pages=-,fitpaper]{mechanical_drawings.pdf}
    
	\pagebreak
	\section*{Acknowledgments}
	\putdescription{\AcknowledgementsDescription}

	\bibliography{lib/bibliography}

	\end{document}
